*************************
The CAGS Metadata Schema
*************************

Project level metadata
======================

The **Project-level Metadata** level is related to the main CAGS interface website from which metadata are harvested through the online submission form. It collects metadata (derived and expended from Dublin Core metadata) which incorporates a number of descriptive and resource discovery focused elements describing either a scientific communication, a notebook and a dataset independently or jointly. 


Tables below are extracted from the database and generated by MySQL Workbench Model Documentation v1.0.0 - Copyright (c)
2015 Hieu Le

Table: ``abiotic``
------------------

Description:
~~~~~~~~~~~~

Columns:
~~~~~~~~

+---------------+--------------+--------------------------------------+---------+----------------------------------------+--------------+------------+----------------+---------------+---------------+
| Column        | Data type    | Description                           | Default | Multiplicity | Obligation | Metadata level | Dublin Core   | INSPIRE       |
|               |              |                                      |         |                                        |              |            |                | compatibility | compatibility |
+---------------+--------------+--------------------------------------+---------+----------------------------------------+--------------+------------+----------------+---------------+---------------+
| soil_type     | VARCHAR(30)  |                                | NULL    |                                        | [1,n]        | Optional   | project        | NONE          | NONE          |
+---------------+--------------+--------------------------------------+---------+----------------------------------------+--------------+------------+----------------+---------------+---------------+
| water_input   | VARCHAR(30)  |   Triggered infiltration test:    Yes/No                             | NULL    |  | [1,n]        | Optional   | project        | NONE          | NONE          |
+---------------+--------------+--------------------------------------+---------+----------------------------------------+--------------+------------+----------------+---------------+---------------+
| land_use      | VARCHAR(500) |                                      | NULL    |                                        | [1,n]        | Optional   | project        | NONE          | NONE          |
+---------------+--------------+--------------------------------------+---------+----------------------------------------+--------------+------------+----------------+---------------+---------------+


Table: ``biotic``
-----------------

Description:
~~~~~~~~~~~~

Columns:
~~~~~~~~

+--------------------+---------------+--------------------------------------+------------+
| Column             | Data type     | Description                           | Default    |
+====================+===============+======================================+============+
| ``species``        | VARCHAR(30)   |                                | ``NULL``   |               
+--------------------+---------------+--------------------------------------+------------+
| ``organ``          | VARCHAR(30)   |                                      | ``NULL``   |               
+--------------------+---------------+--------------------------------------+------------+

Table: ``contact``
------------------

Description:
~~~~~~~~~~~~

Columns:
~~~~~~~~

+---------------------+----------------+--------------------------------------+------------+
| Column              | Data type      | Description                           | Default    |
+=====================+================+======================================+============+
| ``name``            | VARCHAR(30)    |                                | ``NULL``   |
+---------------------+----------------+--------------------------------------+------------+
| ``surname``         | VARCHAR(30)    |                                | ``NULL``   |               
+---------------------+----------------+--------------------------------------+------------+
| ``organisation``    | VARCHAR(300)   |                                      | ``NULL``   |               
+---------------------+----------------+--------------------------------------+------------+
| ``email``           | VARCHAR(60)    |                                | ``NULL``   |               
+---------------------+----------------+--------------------------------------+------------+
| ``website_perso``   | VARCHAR(300)   |                                      | ``NULL``   |               
+---------------------+----------------+--------------------------------------+------------+

Table: ``main``
---------------

Description:
~~~~~~~~~~~~

Columns:
~~~~~~~~

+-------------------------+----------------+--------------------------------------+------------+
| Column                  | Data type      | Description                           | Default    |
+=========================+================+======================================+============+
| ``contrib_type``        | VARCHAR(50)    |                                      | ``NULL``   |
+-------------------------+----------------+--------------------------------------+------------+
| ``contrib_title``       | VARCHAR(500)   |                                | ``NULL``   |              
+-------------------------+----------------+--------------------------------------+------------+
| ``contrib_date``        | VARCHAR(50)    |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``contrib_authors``     | VARCHAR(50)    |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``DOI``                 | VARCHAR(50)    |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``journal``             | VARCHAR(50)    |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``icon_img``            | VARCHAR(500)   |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``keywords``            | VARCHAR(500)   |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+


Table: ``processing``
---------------------

Description:
~~~~~~~~~~~~

Columns:
~~~~~~~~

+-------------------------+----------------+--------------------------------------+------------+
| Column                  | Data type      | Description                           | Default    |
+=========================+================+======================================+============+
| ``software_name``       | VARCHAR(30)    |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``licence_type``        | VARCHAR(30)    |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``DOI_software``        | VARCHAR(100)   |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``notebook_filename``   | VARCHAR(100)   |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``notebook_purpose``    | VARCHAR(100)   |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``data_repo_url``       | VARCHAR(100)   |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``data_licence``        | VARCHAR(100)   |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+


Table: ``prospection``
----------------------

Description:
~~~~~~~~~~~~

Columns:
~~~~~~~~

+-------------------------+----------------+--------------------------------------+------------+
| Column                  | Data type      | Description                           | Default    |
+=========================+================+======================================+============+
| ``datep``               | DATE           |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``lat``                 | DOUBLE         |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``longitude``           | DOUBLE         |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``method``              | VARCHAR(30)    |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``spatial_scale``       | VARCHAR(30)    |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``bound_cond``          | VARCHAR(30)    |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``temperature``         | VARCHAR(30)    |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``temporal_scale``      | VARCHAR(30)    |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``instrument``          | VARCHAR(30)    |                                | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``dimension``           | VARCHAR(30)    |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``permanent_setup``     | VARCHAR(30)    |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+
| ``zhao_description``    | VARCHAR(300)   |                                      | ``NULL``   |               
+-------------------------+----------------+--------------------------------------+------------+


File-level geophysical metadata
===============================

The **File-level Metadata** level collector is a gui designed to help with the initial preparation of one geophysical dataset. Starting from one or multiple input directories, a cleanly structured output directory is generated (without deleting any input files).
Generate suitable metadata from user input and write this metadata into the directory structure, making it ready for further distribution.

`geophysical Metadata Management using a Juypter Notebook <https://github.com/m-weigand/geometadp.git>`_

Tables below are extracted from the database and generated by MySQL Workbench Model Documentation v1.0.0 - Copyright (c)
2015 Hieu Le

Table: ``report``
-----------------

Description: 
~~~~~~~~~~~~

Metadata describing general information about the contribution.

This table has overlapping field with project level metadata (see column
CAGS Metadata level)

Columns:
~~~~~~~~

+------------------+------------------------------------------+-----------------+---------------+-------------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                  |                                          |                 |               |                         |                             |                      |              |               |            |
| Column           | Description                              | Multiplicity    | Obligation    | CAGS Metadata level     | Dublin Core (ArchSearch)    | INSPIRE Directive    | Data type    | Attributes    | Default    |
+==================+==========================================+=================+===============+=========================+=============================+======================+==============+===============+============+
|                  |                                          |                 |               |                         |                             |                      |              |               |            |
| Report_title     | Sort title description of the dataset    | [1]             | Mandatory     | File level              |                             |                      |              | Unique        |            |
+------------------+------------------------------------------+-----------------+---------------+-------------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                  |                                          |                 |               |                         |                             |                      |              |               |            |
| Report_author    | Reporting authors names                  | [1,n]           | Mandatory     | File & project level    |                             |                      |              | Unique        |            |
+------------------+------------------------------------------+-----------------+---------------+-------------------------+-----------------------------+----------------------+--------------+---------------+------------+


Table: ``survey``
-----------------

.. _description-1:


Description: 
~~~~~~~~~~~~

Metadata describing one to multiple survey(s).

The survey table is inspired from \`Archaeology Data Service / Digital
Antiquity

Guides to Good Practice
<https://guides.archaeologydataservice.ac.uk/g2gp/Geophysics_6>`\_

For multiple acquisitions the number n must be unchanged between the
different fields. For example, if date of time of measurement contains 2
values, the electrode configuration must contain n columns describing
the configuration used.

.. _columns-1:

Columns:
~~~~~~~~

+--------------------+--------------------------------------------------------------------------+-----------------+---------------+---------------------+-------------------------------+------------------------+----------------+---------------+------------+
|                    |                                                                          |                 |               |                     |                               |                        |                |               |            |
| Column             | Description                                                              | Multiplicity    | Obligation    | CAGS                | Dublin   Core (ArchSearch)    | INSPIRE   Directive    | Data   type    | Attributes    | Default    |
|                    |                                                                          |                 |               |                     |                               |                        |                |               |            |
|                    |                                                                          |                 |               | Metadata   level    |                               |                        |                |               |            |
+====================+==========================================================================+=================+===============+=====================+===============================+========================+================+===============+============+
|                    |                                                                          |                 |               |                     |                               |                        |                |               |            |
|  Survey_type       | Choose acronyms describing the survey   type (refer to CAGS glossary)    | [1,n]           | Mandatory     | File level          | Resource Type                 |                        |                | Unique        |            |
+--------------------+--------------------------------------------------------------------------+-----------------+---------------+---------------------+-------------------------------+------------------------+----------------+---------------+------------+
|                    |                                                                          |                 |               |                     |                               |                        |                |               |            |
| Instruments        | Name of the instrument(s)                                                | [1,n]           | Mandatory     | File level          |                               |                        |                |               | NULL       |
+--------------------+--------------------------------------------------------------------------+-----------------+---------------+---------------------+-------------------------------+------------------------+----------------+---------------+------------+
|                    |                                                                          |                 |               |                     |                               |                        |                |               |            |
| Choice_survey      | Text explaining shortly the motivation of   using the method(s)          | [1,n]           | Optional      | File level          |                               |                        |                |               | NULL       |
+--------------------+--------------------------------------------------------------------------+-----------------+---------------+---------------------+-------------------------------+------------------------+----------------+---------------+------------+
|                    |                                                                          |                 |               |                     |                               |                        |                |               |            |
|  Area              | Total surface investigated (m2)                                          | [1,n]           | Optional      | File level          |                               |                        |                |               | NULL       |
+--------------------+--------------------------------------------------------------------------+-----------------+---------------+---------------------+-------------------------------+------------------------+----------------+---------------+------------+
|                    |                                                                          |                 |               |                     |                               |                        |                |               |            |
|  Add_remarks       | Free text for additional remarks                                         | [1]             | Optional      | File level          |                               |                        |                |               | NULL       |
+--------------------+--------------------------------------------------------------------------+-----------------+---------------+---------------------+-------------------------------+------------------------+----------------+---------------+------------+


Table: ``ERT metadata``
----------------------

.. _description-2:


Description: 
~~~~~~~~~~~~

Metadata describing one to multiple (n) ERT surveys.

For multiple acquisitions the number n must be unchanged between the
different fields. For example, if date of time of measurement contains 2
values, the electrode configuration must contain n columns describing
the configuration used.

.. _columns-3:

Columns:
~~~~~~~~
+-----------------+--------------------------------------------+-----------------+---------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                 |                                            |                 |               |                   |                             |                      |              |               |            |
| Column          | Description                                | Multiplicity    | Obligation    | CAGS              | Dublin Core (ArchSearch)    | INSPIRE Directive    | Data type    | Attributes    | Default    |
|                 |                                            |                 |               |                   |                             |                      |              |               |            |
|                 |                                            |                 |               | Metadata level    |                             |                      |              |               |            |
+=================+============================================+=================+===============+===================+=============================+======================+==============+===============+============+
|                 |                                            |                 |               |                   |                             |                      |              |               |            |
| Date_measure    | Date(s) of the measurement (dd/mm/aaaa)    | [n]             | Mandatory     | File level        |                             |                      |              | Unique        |            |
+-----------------+--------------------------------------------+-----------------+---------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                 |                                            |                 |               |                   |                             |                      |              |               |            |
| Time_measure    | Time(s) of the measurement (hh:mm)         | [m,n]           | Mandatory     | File level        |                             |                      |              |               | NULL       |
+-----------------+--------------------------------------------+-----------------+---------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                 |                                            |                 |               |                   |                             |                      |              |               |            |
| Elec_conf       | Electrode   configuration                  | [m,n]           | Optional      | File   level      |                             |                      |              |               | NULL       |
+-----------------+--------------------------------------------+-----------------+---------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                 |                                            |                 |               |                   |                             |                      |              |               |            |
| Elec_spacing    | Electrode spacing                          | [m,n]           | Optional      | File level        |                             |                      |              |               | NULL       |
+-----------------+--------------------------------------------+-----------------+---------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+

Table: ``EM metadata``
----------------------

.. _description-3:


Description: 
~~~~~~~~~~~~

Metadata describing one to multiple (n) EM surveys.

For multiple acquisitions the number n must be unchanged between the
different fields. For example, if date of measurements contains 2
values, the coil configuration must contain n columns and m lines
describing the coil configuration used.

.. _columns-4:

Columns:
~~~~~~~~
+------------------+-----------------------------------------------------------------------+-----------------+---------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                  |                                                                       |                 |               |                   |                             |                      |              |               |            |
| Column           | Description                                                           | Multiplicity    | Obligation    | CAGS              | Dublin Core (ArchSearch)    | INSPIRE Directive    | Data type    | Attributes    | Default    |
|                  |                                                                       |                 |               |                   |                             |                      |              |               |            |
|                  |                                                                       |                 |               | Metadata level    |                             |                      |              |               |            |
+==================+=======================================================================+=================+===============+===================+=============================+======================+==============+===============+============+
|                  |                                                                       |                 |               |                   |                             |                      |              |               |            |
| Date_measure     | Date(s) of the measurement (dd/mm/aaaa)                               | [1,n]           | Mandatory     | File level        |                             |                      |              | Unique        |            |
+------------------+-----------------------------------------------------------------------+-----------------+---------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                  |                                                                       |                 |               |                   |                             |                      |              |               |            |
| Coil_conf        | Coil configuation                                                     | [m,n]           | Optional      | File level        |                             |                      |              |               | NULL       |
+------------------+-----------------------------------------------------------------------+-----------------+---------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                  |                                                                       |                 |               |                   |                             |                      |              |               |            |
| Read_interval    | If automatic time sampling, time steps   between different reading    | [m,n]           | Optional      | File level        |                             |                      |              |               | NULL       |
+------------------+-----------------------------------------------------------------------+-----------------+---------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+

Table: ``data quality assessment metadata``
-------------------------------------------

.. _description-4:


Description: 
~~~~~~~~~~~~

.. _columns-5:

Columns:
~~~~~~~~
+------------------------------+------------------------------------------------------------+-----------------+--------------------------------------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                              |                                                            |                 |                                            |                   |                             |                      |              |               |            |
| Column                       | Description                                                | Multiplicity    | Obligation                                 | CAGS              | Dublin Core (ArchSearch)    | INSPIRE Directive    | Data type    | Attributes    | Default    |
|                              |                                                            |                 |                                            |                   |                             |                      |              |               |            |
|                              |                                                            |                 |                                            | Metadata level    |                             |                      |              |               |            |
+==============================+============================================================+=================+============================================+===================+=============================+======================+==============+===============+============+
|                              |                                                            |                 |                                            |                   |                             |                      |              |               |            |
|  Peer_reviewed               | True if the dataset has been   peer-reviewed               | [1]             | Mandatory                                  | File level        |                             |                      |              | Unique        |            |
+------------------------------+------------------------------------------------------------+-----------------+--------------------------------------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                              |                                                            |                 |                                            |                   |                             |                      |              |               |            |
|  Peer_reviewer_contact       | Contact of reviewer                                        | [1,n]           | Mandatory only if peer_reviewed is True    |                   |                             |                      |              | Unique        | NULL       |
+------------------------------+------------------------------------------------------------+-----------------+--------------------------------------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                              |                                                            |                 |                                            |                   |                             |                      |              |               |            |
|  Replicate_datasets          | Number of replicates datasets                              | [1,n]           | Optional                                   |                   |                             |                      |              |               | NULL       |
+------------------------------+------------------------------------------------------------+-----------------+--------------------------------------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                              |                                                            |                 |                                            |                   |                             |                      |              |               |            |
|  Comparison_ref_data         | The dataset has been compared with   reference datasets    | [1,n]           | Optional                                   |                   |                             |                      |              |               | NULL       |
+------------------------------+------------------------------------------------------------+-----------------+--------------------------------------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
|                              |                                                            |                 |                                            |                   |                             |                      |              |               |            |
|  Ref_data                    | DOI of reference dataset                                   | [1,n]           | Optional                                   |                   |                             |                      |              |               | NULL       |
+------------------------------+------------------------------------------------------------+-----------------+--------------------------------------------+-------------------+-----------------------------+----------------------+--------------+---------------+------------+
.. _section-1:

Table: ``sampling``
-------------------

.. _description-5:

Description: 
~~~~~~~~~~~~

.. _columns-6:

Columns:
~~~~~~~~

================= ===== ======== ==========
Sampling position  [1,n] Optional File level     
================= ===== ======== ==========

.. _section-2:
